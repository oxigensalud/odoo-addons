<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2021 NuoBiT Solutions - Eric Antones <eantones@nuobit.com>
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl) -->
<odoo>
    <record id="view_template_property_form" model="ir.ui.view">
        <field name="name">oxigen.mrp.product.template</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="stock.view_template_property_form" />
        <field name="arch" type="xml">
            <field name="tracking" position="after">
                <field
                    name="mrp_type"
                    attrs="{'invisible': [('tracking', '!=', 'serial')]}"
                />
            </field>
        </field>
    </record>
    <record id="view_product_form_expiry_inherit" model="ir.ui.view">
        <field name="name">oxigen.mrp.product.template.inherit.form</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product_expiry.view_product_form_expiry" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='use_expiration_date']" position="attributes">
                <attribute
                    name="attrs"
                >{'invisible': ['|', ('tracking', '=','none'), ('mrp_type', 'not in', (False, 'valve'))]}</attribute>
            </xpath>
        </field>
    </record>
</odoo>
